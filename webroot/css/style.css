/* OmniShield WebUI — Dark Material Design 3 */
:root {
  --bg:        #080b14;
  --surface:   #0e1220;
  --surface2:  #141927;
  --surface3:  #1c2235;
  --card:      #131926;
  --border:    rgba(120,140,200,.12);
  --primary:   #7c9ef4;
  --primary2:  #5c7ee0;
  --secondary: #22d3ee;
  --accent:    #a78bfa;
  --success:   #34d399;
  --error:     #f87171;
  --warning:   #fbbf24;
  --text:      #e8ecf4;
  --text2:     #8892aa;
  --text3:     #4f5875;
  --radius:    12px;
  --r-sm:      8px;
  --transition:.18s ease;
}
*,*::before,*::after { box-sizing:border-box; margin:0; padding:0; }
html,body { height:100%; width:100%; overflow:hidden; }
body {
  font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;
  background:var(--bg); color:var(--text); font-size:14px; line-height:1.5;
}

/* ─── Scrollbar ───────────────────────────────────────────────────── */
::-webkit-scrollbar { width:4px; height:4px; }
::-webkit-scrollbar-track { background:transparent; }
::-webkit-scrollbar-thumb { background:var(--surface3); border-radius:2px; }

/* ─── Layout ──────────────────────────────────────────────────────── */
#app { display:flex; flex-direction:column; height:100vh; }
#header {
  height:56px; min-height:56px;
  display:flex; align-items:center; justify-content:space-between;
  padding:0 16px;
  background:linear-gradient(135deg, #0c1428 0%, #080b14 100%);
  border-bottom:1px solid var(--border);
  position:relative; z-index:10;
}
#header .logo { display:flex; align-items:center; gap:10px; }
#header .logo-icon { font-size:20px; }
#header .logo-text { font-size:16px; font-weight:700; letter-spacing:.5px; color:var(--primary); }
#header .logo-sub { font-size:10px; color:var(--text2); letter-spacing:1.5px; text-transform:uppercase; }
#header .header-right { display:flex; align-items:center; gap:8px; }
.badge-live {
  display:flex; align-items:center; gap:5px;
  font-size:10px; font-weight:600; letter-spacing:1px; text-transform:uppercase;
  color:var(--success); padding:3px 8px; border-radius:20px;
  background:rgba(52,211,153,.12); border:1px solid rgba(52,211,153,.25);
}
.badge-live::before {
  content:''; width:6px; height:6px; border-radius:50%;
  background:var(--success); animation:pulse-dot 1.8s ease-in-out infinite;
}
@keyframes pulse-dot {
  0%,100% { opacity:1; transform:scale(1); }
  50% { opacity:.5; transform:scale(.7); }
}

#main { flex:1; overflow:hidden; position:relative; }
.page { position:absolute; inset:0; overflow-y:auto; padding:12px 12px 8px; display:none; }
.page.active { display:block; }

#bottom-nav {
  height:56px; min-height:56px;
  display:flex; align-items:stretch;
  background:var(--surface); border-top:1px solid var(--border);
}
.nav-item {
  flex:1; display:flex; flex-direction:column; align-items:center; justify-content:center;
  gap:2px; cursor:pointer; border:none; background:none; color:var(--text2);
  font-size:10px; font-weight:500; letter-spacing:.5px; text-transform:uppercase;
  transition:var(--transition); position:relative; padding:6px 0;
}
.nav-item svg { width:22px; height:22px; }
.nav-item.active { color:var(--primary); }
.nav-item.active::after {
  content:''; position:absolute; top:0; left:50%; transform:translateX(-50%);
  width:32px; height:2px; background:var(--primary); border-radius:0 0 2px 2px;
}

/* ─── Cards ───────────────────────────────────────────────────────── */
.card {
  background:var(--card); border:1px solid var(--border);
  border-radius:var(--radius); padding:14px; margin-bottom:10px;
}
.card-title {
  font-size:11px; font-weight:600; letter-spacing:1.2px; text-transform:uppercase;
  color:var(--text2); margin-bottom:12px; display:flex; align-items:center; gap:6px;
}
.card-title svg { width:14px; height:14px; color:var(--primary); }

/* ─── Tabs ────────────────────────────────────────────────────────── */
.tab-bar {
  display:flex; gap:4px; margin-bottom:12px;
  background:var(--surface2); border-radius:var(--radius); padding:4px;
}
.tab-btn {
  flex:1; padding:7px 12px; border-radius:var(--r-sm); border:none; background:none;
  color:var(--text2); font-size:12px; font-weight:600; cursor:pointer;
  transition:var(--transition); text-align:center;
}
.tab-btn.active { background:var(--surface3); color:var(--primary); }
.tab-panel { display:none; }
.tab-panel.active { display:block; }

/* ─── Field row ───────────────────────────────────────────────────── */
.field-row {
  display:grid; grid-template-columns:1fr auto auto; gap:8px; align-items:center;
  padding:8px 0; border-bottom:1px solid var(--border);
}
.field-row:last-child { border-bottom:none; }
.field-label { font-size:11px; color:var(--text2); font-weight:500; letter-spacing:.3px; margin-bottom:2px; }
.field-value {
  font-size:13px; color:var(--text); font-family:'SF Mono','Fira Code',monospace;
  word-break:break-all; cursor:text;
}
.field-value.editable {
  background:var(--surface2); border:1px solid var(--border);
  border-radius:var(--r-sm); padding:6px 10px;
  outline:none; width:100%; font-size:12px;
}
.field-value.editable:focus { border-color:var(--primary); }

/* ─── Validity badge ──────────────────────────────────────────────── */
.valid-badge {
  font-size:10px; font-weight:700; padding:2px 7px; border-radius:20px;
  white-space:nowrap; letter-spacing:.5px;
}
.valid-badge.ok { background:rgba(52,211,153,.15); color:var(--success); }
.valid-badge.err { background:rgba(248,113,113,.15); color:var(--error); }
.valid-badge.warn { background:rgba(251,191,36,.15); color:var(--warning); }

/* ─── Buttons ─────────────────────────────────────────────────────── */
.btn {
  display:inline-flex; align-items:center; gap:5px; padding:7px 14px;
  border-radius:var(--r-sm); border:none; cursor:pointer; font-size:12px;
  font-weight:600; transition:var(--transition); letter-spacing:.3px;
}
.btn svg { width:14px; height:14px; flex-shrink:0; }
.btn-primary { background:var(--primary2); color:#fff; }
.btn-primary:hover { background:var(--primary); }
.btn-secondary { background:var(--surface3); color:var(--text); }
.btn-secondary:hover { background:rgba(124,158,244,.2); color:var(--primary); }
.btn-danger  { background:rgba(248,113,113,.15); color:var(--error); border:1px solid rgba(248,113,113,.3); }
.btn-danger:hover  { background:rgba(248,113,113,.25); }
.btn-warning { background:rgba(251,191,36,.15); color:var(--warning); border:1px solid rgba(251,191,36,.3); }
.btn-warning:hover { background:rgba(251,191,36,.25); }
.btn-success { background:rgba(52,211,153,.15); color:var(--success); border:1px solid rgba(52,211,153,.3); }
.btn-success:hover { background:rgba(52,211,153,.25); }
.btn-icon { padding:6px; border-radius:var(--r-sm); background:var(--surface3); color:var(--text2); border:none; cursor:pointer; display:inline-flex; align-items:center; justify-content:center; transition:var(--transition); }
.btn-icon:hover { background:rgba(124,158,244,.2); color:var(--primary); }
.btn-icon svg { width:15px; height:15px; }
.btn-full { width:100%; justify-content:center; padding:10px; }
.btn-row { display:flex; gap:8px; margin-top:10px; flex-wrap:wrap; }

/* ─── Inputs & selects ────────────────────────────────────────────── */
.input, .select {
  width:100%; background:var(--surface2); border:1px solid var(--border);
  border-radius:var(--r-sm); padding:8px 12px; color:var(--text); font-size:13px;
  outline:none; transition:var(--transition);
}
.input:focus, .select:focus { border-color:var(--primary); }
.select { cursor:pointer; appearance:none; background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 24 24' fill='none' stroke='%238892aa' stroke-width='2'%3E%3Cpath d='m6 9 6 6 6-6'/%3E%3C/svg%3E"); background-repeat:no-repeat; background-position:right 10px center; padding-right:28px; }
.input-row { display:flex; gap:8px; align-items:center; margin-bottom:8px; }
.input-label { font-size:11px; color:var(--text2); margin-bottom:4px; font-weight:500; }
.input-group { margin-bottom:12px; }

/* ─── Toggle / Switch ─────────────────────────────────────────────── */
.toggle { position:relative; display:inline-block; width:44px; height:24px; flex-shrink:0; }
.toggle input { opacity:0; width:0; height:0; }
.toggle-slider {
  position:absolute; inset:0; cursor:pointer;
  background:var(--surface3); border-radius:24px;
  transition:var(--transition); border:1px solid var(--border);
}
.toggle-slider::before {
  content:''; position:absolute; left:3px; top:50%; transform:translateY(-50%);
  width:16px; height:16px; border-radius:50%; background:var(--text2);
  transition:var(--transition);
}
.toggle input:checked + .toggle-slider { background:rgba(124,158,244,.3); border-color:var(--primary); }
.toggle input:checked + .toggle-slider::before { transform:translateY(-50%) translateX(20px); background:var(--primary); }
.toggle-row { display:flex; align-items:center; justify-content:space-between; padding:8px 0; }
.toggle-label { font-size:13px; color:var(--text); }
.toggle-desc { font-size:11px; color:var(--text2); margin-top:1px; }

/* ─── Status page specific ────────────────────────────────────────── */
.correlation-ring {
  display:flex; flex-direction:column; align-items:center; margin-bottom:16px;
}
.gauge-wrap { position:relative; width:140px; height:140px; }
.gauge-svg { width:140px; height:140px; transform:rotate(-90deg); }
.gauge-bg { fill:none; stroke:var(--surface3); stroke-width:10; }
.gauge-fill { fill:none; stroke-width:10; stroke-linecap:round; transition:stroke-dashoffset .8s ease,stroke .4s ease; }
.gauge-center { position:absolute; inset:0; display:flex; flex-direction:column; align-items:center; justify-content:center; }
.gauge-value { font-size:32px; font-weight:800; font-family:'SF Mono',monospace; }
.gauge-label { font-size:10px; color:var(--text2); letter-spacing:1px; text-transform:uppercase; }
.info-grid { display:grid; grid-template-columns:1fr 1fr; gap:8px; }
.info-cell {
  background:var(--surface2); border-radius:var(--r-sm); padding:10px 12px;
  border:1px solid var(--border);
}
.info-cell-label { font-size:10px; color:var(--text2); text-transform:uppercase; letter-spacing:.8px; margin-bottom:4px; }
.info-cell-value { font-size:13px; font-weight:600; color:var(--text); font-family:'SF Mono',monospace; word-break:break-all; }

/* ─── Profile selector ────────────────────────────────────────────── */
.profile-search-wrap { position:relative; margin-bottom:10px; }
.profile-search-wrap svg { position:absolute; left:10px; top:50%; transform:translateY(-50%); width:14px; height:14px; color:var(--text2); pointer-events:none; }
.profile-search { padding-left:32px !important; }
.profile-list { max-height:220px; overflow-y:auto; border:1px solid var(--border); border-radius:var(--r-sm); background:var(--surface2); }
.profile-item {
  padding:10px 12px; cursor:pointer; border-bottom:1px solid var(--border);
  display:flex; align-items:center; gap:10px; transition:var(--transition);
}
.profile-item:last-child { border-bottom:none; }
.profile-item:hover, .profile-item.selected { background:var(--surface3); }
.profile-item.selected { border-left:3px solid var(--primary); }
.profile-name { font-size:13px; font-weight:600; color:var(--text); }
.profile-brand { font-size:11px; color:var(--text2); }
.profile-chip { font-size:10px; color:var(--text3); font-family:monospace; }
.recent-profile {
  display:flex; align-items:center; gap:8px; padding:8px 10px;
  background:var(--surface2); border-radius:var(--r-sm); cursor:pointer;
  border:1px solid var(--border); transition:var(--transition); margin-bottom:6px;
}
.recent-profile:hover { border-color:var(--primary); }

/* ─── Map ─────────────────────────────────────────────────────────── */
#map { height:220px; border-radius:var(--r-sm); border:1px solid var(--border); overflow:hidden; background:#1a2035; }
.leaflet-container { background:#1a2035 !important; }
.leaflet-tile { filter:brightness(.75) saturate(.6) hue-rotate(190deg); }

/* ─── Scope app list ──────────────────────────────────────────────── */
.scope-app-item {
  display:flex; align-items:center; gap:8px; padding:8px 10px;
  background:var(--surface2); border-radius:var(--r-sm);
  border:1px solid var(--border); margin-bottom:6px;
}
.scope-app-name { flex:1; font-size:13px; color:var(--text); font-family:monospace; }
.scope-app-actions { display:flex; gap:4px; }

/* ─── Toast ───────────────────────────────────────────────────────── */
#toast-container { position:fixed; bottom:70px; left:0; right:0; display:flex; flex-direction:column; align-items:center; gap:6px; z-index:999; pointer-events:none; }
.toast {
  display:inline-flex; align-items:center; gap:8px;
  background:var(--surface3); border:1px solid var(--border);
  border-radius:50px; padding:8px 16px; font-size:12px; font-weight:500;
  color:var(--text); box-shadow:0 4px 20px rgba(0,0,0,.5);
  animation:slideUp .25s ease both;
  transition:opacity .3s ease;
}
.toast svg { width:14px; height:14px; flex-shrink:0; }
.toast.ok { border-color:rgba(52,211,153,.4); color:var(--success); }
.toast.err { border-color:rgba(248,113,113,.4); color:var(--error); }
.toast.warn { border-color:rgba(251,191,36,.4); color:var(--warning); }
@keyframes slideUp { from { opacity:0; transform:translateY(12px); } to { opacity:1; transform:translateY(0); } }

/* ─── Dialog ──────────────────────────────────────────────────────── */
.dialog-overlay {
  position:fixed; inset:0; background:rgba(0,0,0,.65); z-index:200;
  display:flex; align-items:flex-end; justify-content:center; padding:0 12px 12px;
  opacity:0; pointer-events:none; transition:opacity .2s ease;
}
.dialog-overlay.open { opacity:1; pointer-events:all; }
.dialog {
  background:var(--surface); border:1px solid var(--border); border-radius:16px;
  padding:20px; width:100%; max-width:480px;
  transform:translateY(20px); transition:transform .25s ease;
}
.dialog-overlay.open .dialog { transform:translateY(0); }
.dialog-title { font-size:16px; font-weight:700; color:var(--text); margin-bottom:8px; }
.dialog-body { font-size:13px; color:var(--text2); margin-bottom:16px; line-height:1.6; }
.dialog-actions { display:flex; gap:8px; justify-content:flex-end; }

/* ─── Section header ──────────────────────────────────────────────── */
.section-title {
  font-size:11px; font-weight:700; letter-spacing:1.5px; text-transform:uppercase;
  color:var(--text2); margin:14px 0 8px; display:flex; align-items:center; gap:6px;
}
.section-title::after { content:''; flex:1; height:1px; background:var(--border); }

/* ─── Misc ────────────────────────────────────────────────────────── */
.mono { font-family:'SF Mono','Fira Code',monospace; }
.text-sm { font-size:11px; color:var(--text2); }
.gap-row { display:flex; align-items:center; gap:8px; }
.spinner { width:16px; height:16px; border:2px solid var(--border); border-top-color:var(--primary); border-radius:50%; animation:spin .6s linear infinite; }
@keyframes spin { to { transform:rotate(360deg); } }
.proxy-section { margin-bottom:10px; }
.net-type-row { display:flex; align-items:center; justify-content:space-between; padding:10px 0; }
.net-type-icon { font-size:22px; }
.net-type-arrow { font-size:12px; color:var(--primary); font-weight:700; padding:0 6px; }
hr.divider { border:none; border-top:1px solid var(--border); margin:10px 0; }
.danger-zone { border:1px solid rgba(248,113,113,.25); border-radius:var(--radius); padding:14px; margin-top:10px; }
.danger-zone .card-title { color:var(--error); }
.reboot-btn { background:linear-gradient(135deg, rgba(248,113,113,.2), rgba(248,113,113,.1)); border:1px solid rgba(248,113,113,.4); color:var(--error); }
.destroy-btn { background:linear-gradient(135deg, rgba(167,139,250,.2), rgba(248,113,113,.1)); border:1px solid rgba(167,139,250,.4); color:var(--accent); }
